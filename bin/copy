#!/bin/sh

if [ ! -t 0 ]; then
    cat /dev/stdin | xclip -in -selection clipboard
    exit
fi

[ $# != 1 ] || [ ! -f $1 ] && exit 1

options=""
(echo $1 | grep -Eq ".png$") && options="-t image/png"
(echo $1 | grep ".jpe\?g$") && options="-t image/jpeg"

xclip -selection clipboard $options $1
